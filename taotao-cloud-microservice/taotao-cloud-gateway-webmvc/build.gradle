dependencies {
    //cloud
//    implementation "io.github.shuigedeng:taotao-cloud-starter-alibaba"
//    implementation "io.github.shuigedeng:taotao-cloud-starter-ttc"

    implementation "com.alibaba.csp:sentinel-datasource-nacos"
//    implementation "com.alibaba.cloud:spring-cloud-starter-alibaba-sentinel"
//    implementation 'org.apache.skywalking:apm-spring-cloud-gateway-4.x-plugin:9.5.0'
    implementation "org.springframework.cloud:spring-cloud-starter-loadbalancer"
    implementation "org.springframework.cloud:spring-cloud-starter-gateway-server-webmvc"
    implementation "org.springframework.cloud:spring-cloud-gateway-proxyexchange-webmvc"

    implementation "org.springframework.cloud:spring-cloud-starter-circuitbreaker-resilience4j"
    implementation "org.springframework.cloud:spring-cloud-starter-circuitbreaker-spring-retry"
    implementation "org.springframework.cloud:spring-cloud-starter-circuitbreaker-framework-retry"
    implementation "io.github.resilience4j:resilience4j-ratelimiter:2.3.0"

    //boot
    implementation "io.github.shuigedeng:taotao-boot-starter-core"
    implementation "io.github.shuigedeng:taotao-boot-starter-monitor"
    implementation "io.github.shuigedeng:taotao-boot-starter-captcha"
    implementation "io.github.shuigedeng:taotao-boot-starter-logger"
    implementation "io.github.shuigedeng:taotao-boot-starter-captcha"
    implementation "io.github.shuigedeng:taotao-boot-starter-sentinel"
    implementation "io.github.shuigedeng:taotao-boot-starter-useragent"
    implementation "io.github.shuigedeng:taotao-boot-starter-idgenerator"
    implementation "io.github.shuigedeng:taotao-boot-starter-lock"
    implementation "io.github.shuigedeng:taotao-boot-starter-metrics"
    implementation "io.github.shuigedeng:taotao-boot-starter-actuator"
    implementation "io.github.shuigedeng:taotao-boot-starter-security-spring"
    implementation "io.github.shuigedeng:taotao-boot-starter-tracer"
    implementation "io.github.shuigedeng:taotao-boot-starter-skywalking"
    implementation "io.github.shuigedeng:taotao-boot-starter-springdoc"
    implementation "io.github.shuigedeng:taotao-boot-starter-cache-caffeine"
    implementation "io.github.shuigedeng:taotao-boot-starter-cache-redis"

    implementation "com.github.xiaoymin:knife4j-gateway-spring-boot-starter:4.5.0"

    implementation "org.apache.commons:commons-pool2"
    implementation "org.apache.commons:commons-lang3"
    implementation "commons-fileupload:commons-fileupload:1.6.0"
    implementation "commons-io:commons-io:2.21.0"

    implementation "org.webjars:webjars-locator-lite:1.1.3"

    implementation "io.grpc:grpc-api:1.78.0"
    implementation "io.grpc:grpc-context:1.78.0"
    implementation "io.grpc:grpc-core:1.78.0"
    implementation "io.grpc:grpc-netty:1.78.0"
    implementation "io.grpc:grpc-netty-shaded:1.78.0"
    implementation "io.grpc:grpc-protobuf:1.78.0"
    implementation "io.grpc:grpc-protobuf-lite:1.78.0"
    implementation "io.grpc:grpc-stub:1.78.0"
    implementation "io.grpc:grpc-services:1.78.0"

    //网关限流 https://search.maven.org/artifact/com.eeeffff.limiter/ip-limiter-core-spring-gateway
    //implementation "com.eeeffff.limiter:ip-limiter-core-spring-gateway:1.1.3"

    //implementation("io.github.shuigedeng:taotao-boot-starter-security-satoken") {
    //    exclude group: "cn.dev33", module: "sa-token-spring-boot3-starter"
    //    exclude group: "cn.dev33", module: "sa-token-jakarta-servlet"
    //}
    ////https://search.maven.org/artifact/cn.dev33/sa-token-reactor-spring-boot-starter
    //implementation 'cn.dev33:sa-token-reactor-spring-boot3-starter:1.44.0'

    implementation "com.google.protobuf:protobuf-java:4.33.4"
    implementation "com.google.protobuf:protobuf-java-util:4.33.4"
}

configurations {
    configureEach {
        resolutionStrategy {
            force "org.codehaus.groovy:groovy:3.0.25"
            force 'org.antlr:antlr4:4.13.2'
            force 'net.minidev:json-smart:2.6.0'
            //todo 临时使用
            force "io.opentelemetry:opentelemetry-api-incubator:1.58.0-alpha"

            force "com.google.protobuf:protobuf-java:4.33.4"
            force "com.google.protobuf:protobuf-java-util:4.33.4"
        }

        //exclude group: "org.springframework", module: "spring-webmvc"
        exclude group: "org.springframework.boot", module: "spring-boot-starter-data-jpa"
        //exclude group: "org.springframework.boot", module: "spring-boot-starter-tomcat"
        exclude group: "org.springframework.boot", module: "spring-boot-starter-undertow"
        //exclude group: "com.alibaba.csp", module: "sentinel-spring-webmvc-adapter"
        //exclude group: "com.alibaba.csp", module: "sentinel-spring-webmvc-v6x-adapter"
        exclude group: "com.querydsl", module: "querydsl-apt"
        //exclude group: "commons-logging", module: "commons-logging"
    }
}

application {
    //指定应用程序的入口点（主类）
    mainClass = "com.taotao.cloud.gateway.TaoTaoCloudGatewayApplication"
    applicationName = "taotao-cloud-gateway"
}

description = "网关模块"



