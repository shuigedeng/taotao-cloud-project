FROM openjdk:8-jre-alpine

MAINTAINER zhengqingya

# è§£å†³æ—¶å·®8å°æ—¶é—®é¢˜
ENV TZ=Asia/Shanghai
RUN ln -snf /usr/share/zoneinfo/$TZ /etc/localtime && echo $TZ > /etc/timezone

# æ·»åŠ jaråŒ…åˆ°å®¹å™¨ä¸­
ADD sentinel-dashboard-1.8.2.jar /app.jar

# å¯¹å¤–æš´æ¼çš„ç«¯å£å·
EXPOSE 8858

# è¿è¡ŒğŸƒğŸƒğŸƒ
CMD echo "****** start run ... " & \
    java -Djava.security.egd=file:/dev/./urandom -Dserver.port=8858 -Dcsp.sentinel.api.port=8719 -Dcsp.sentinel.dashboard.server=localhost:8858 -Dproject.name=sentinel-dashboard -jar /app.jar
