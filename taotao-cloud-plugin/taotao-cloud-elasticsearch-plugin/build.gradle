import org.elasticsearch.gradle.VersionProperties

buildscript {
    repositories {
        maven {
            url = 'https://snapshots.elastic.co/maven/'
        }

        mavenCentral()
    }

    dependencies {
        classpath "org.elasticsearch.gradle:build-tools:8.14.3"
    }

}

apply plugin: 'java'
apply plugin: "idea"
apply plugin: 'elasticsearch.stable-esplugin'
//apply plugin: 'elasticsearch.yaml-rest-test'

dependencies {
    implementation 'org.elasticsearch:elasticsearch:8.14.3'

    compileOnly "org.elasticsearch.plugin:elasticsearch-plugin-api:8.14.3"
    compileOnly "org.elasticsearch.plugin:elasticsearch-plugin-analysis-api:8.14.3"
    compileOnly "org.apache.lucene:lucene-analysis-common:9.11.1"

    testImplementation "org.elasticsearch.plugin:elasticsearch-plugin-api:8.14.3"
    testImplementation "org.elasticsearch.plugin:elasticsearch-plugin-analysis-api:8.14.3"
    testImplementation "org.apache.lucene:lucene-analysis-common:9.11.1"

    testImplementation ('junit:junit:4.13.2'){
        exclude group: 'org.hamcrest'
    }
    testImplementation 'org.mockito:mockito-core:5.12.0'
    testImplementation 'org.hamcrest:hamcrest:2.2'
}

esplugin {
    name 'stable-analysis-plugin'
    description 'An example analysis plugin using stable plugin api'
}
