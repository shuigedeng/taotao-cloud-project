//import org.elasticsearch.gradle.VersionProperties

buildscript {
    repositories {
        maven {
            url = 'https://snapshots.elastic.co/maven/'
        }
        mavenLocal()
        mavenCentral()

        maven {
            url = "https://repo1.maven.org/maven2"
        }

        maven {
            allowInsecureProtocol = true
            url = 'https://maven.aliyun.com/repository/public'
        }
        //阿里云新的仓库
        maven {
            credentials {
                username = findProperty("mavenUsernameNew") ?: System.getenv("TAOTAO_CLOUD_MAVEN_USERNAME_NEW")
                password = findProperty("mavenPasswordNew") ?: System.getenv("TAOTAO_CLOUD_MAVEN_PASSWORD_NEW")
            }
            url = 'https://packages.aliyun.com/60516c4824e1e6fbecd22990/maven/2085441-release-8v0qbs'
        }

        maven {
            allowInsecureProtocol = true
            url = "https://mirrors.cloud.tencent.com/nexus/repository/maven-public/"
        }

        maven {
            allowInsecureProtocol = true
            url = "https://mirrors.huaweicloud.com/repository/maven/"
        }

        maven { url = "https://repo.spring.io/snapshot" }
        maven { url = "https://repo.spring.io/milestone" }
        maven { url = 'https://repo.spring.io/release' }

        maven { url = "https://maven.aliyun.com/repository/central" }
        maven { url = "https://maven.aliyun.com/repository/public" }
        maven { url = "https://maven.aliyun.com/repository/google" }
        maven { url = "https://maven.aliyun.com/repository/gradle-plugin" }
        maven { url = "https://maven.aliyun.com/repository/spring" }
        maven { url = "https://maven.aliyun.com/repository/spring-plugin" }
        maven { url = "https://maven.aliyun.com/repository/grails-core" }
        maven { url = "https://maven.aliyun.com/repository/apache-snapshots" }

        maven { url = "https://repository.aspose.com/repo/" }
        maven { url = "https://repo.e-iceblue.cn/repository/maven-public/" }

        maven { url = "https://s01.oss.sonatype.org/content/repositories/snapshots/" }
    }

    //dependencies {
    //    classpath "org.elasticsearch.gradle:build-tools:8.15.0"
    //}

}

apply plugin: 'java'
apply plugin: "idea"
//apply plugin: 'elasticsearch.stable-esplugin'
//apply plugin: 'elasticsearch.yaml-rest-test'

dependencies {
    implementation 'org.elasticsearch:elasticsearch:9.2.4'

    compileOnly "org.elasticsearch.plugin:elasticsearch-plugin-api:9.2.4"
    compileOnly "org.elasticsearch.plugin:elasticsearch-plugin-analysis-api:9.2.4"
    compileOnly "org.apache.lucene:lucene-analysis-common:10.3.2"

    testImplementation "org.elasticsearch.plugin:elasticsearch-plugin-api:9.2.4"
    testImplementation "org.elasticsearch.plugin:elasticsearch-plugin-analysis-api:9.2.4"
    testImplementation "org.apache.lucene:lucene-analysis-common:10.3.2"

    testImplementation 'org.mockito:mockito-core:5.20.0'
    testImplementation 'org.hamcrest:hamcrest:3.0'

    testImplementation 'org.junit.jupiter:junit-jupiter:6.0.2'
    testImplementation 'org.junit.jupiter:junit-jupiter-engine:6.0.2'
    testImplementation 'org.junit.jupiter:junit-jupiter-params:6.0.2'
    testRuntimeOnly 'org.junit.platform:junit-platform-launcher:6.0.2'
    testImplementation "org.assertj:assertj-core:3.27.6"
}

//esplugin {
//    name 'stable-analysis-plugin'
//    description 'An example analysis plugin using stable plugin api'
//}
